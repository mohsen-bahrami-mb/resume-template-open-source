<!--
<% data = include("../components/parseData") %>
<% success = include("../components/parseSuccess") %>
<% message = include("../components/parseMessage") %>
<% err = include("../components/parseErr") %>
<% msg = include("../components/parseMsg") %>
-->
<!--
<% profile_photo = data && data.content && data.content.profile_photo ? data.content.profile_photo : "" %>
<% full_name = data && data.content && data.content.full_name ? data.content.full_name : "" %>
<% job_name = data && data.content && data.content.job_name ? data.content.job_name : "" %>
<% HTML_resume = data && data.content && data.content.HTML_resume ? data.content.HTML_resume : "" %>
<% HTML_head_first = data && data.content && data.content.HTML_head_first ? data.content.HTML_head_first : "" %>
<% HTML_head_last = data && data.content && data.content.HTML_head_last ? data.content.HTML_head_last : "" %>
<% HTML_body_first = data && data.content && data.content.HTML_body_first ? data.content.HTML_body_first : "" %>
<% HTML_body_last = data && data.content && data.content.HTML_body_last ? data.content.HTML_body_last : "" %>
<% HTML_head = data && data.content && data.content.HTML_head ? data.content.HTML_head : {} %>
<% contact = data && data.content && data.content.contact ? data.content.contact : {} %>
<% personal = data && data.content && data.content.personal ? data.content.personal : {} %>
<% skills = data && data.content && data.content.skills ? data.content.skills : [] %>
<% theme = data && data.content && data.content.theme ? data.content.theme : "theme-01" %>
<% themeNameArr = ["theme-01","theme-02"] %>
<% theme_config = data && data.content && data.content.theme_config ? data.content.theme_config : {} %> %>
-->
<!-- <% function createDate(input){ 
    const year = input.getFullYear();
    const month = input.getMonth()+1 > 10 ? input.getMonth()+1 : "0"+(input.getMonth()+1).toString();
    const day = input.getDate() > 10 ? input.getDate() : "0"+input.getDate().toString();
    return `${year}-${month}-${day}`;
} %> -->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow" />
    <!-- styles - start -->
    <link rel="stylesheet" href="/APP/bootstrap@5.3.0/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/APP/contentEditor/styleCKEditor.css">
    <link rel="stylesheet" href="/APP/styleRangeskill.css">
    <link rel="stylesheet" href="/APP/font/font.css">
    <link rel="icon" href="<%= HTML_head.favicon %>" />
    <link rel="apple-touch-icon" href="<%= HTML_head.favicon %>" />
    <!-- styles - end -->
    <title>Edit Content</title>
</head>

<body class="container-md">
    <header class="bg-secondary text-white p-2">
        <h1>Edit Content</h1>
        <span>success: <%= success %></span>
        <span> | </span>
        <span>message: <%= message %></span>
        <%- include("../components/msg&err") %>
    </header>
    <%- include("../components/ownerTopNav") %>
        <form id="form-data" action="/edit/content?method=put" method="post" enctype="application/x-www-form-urlencoded"
            class="form-control">
            <!-- update or cancel - start  -->
            <div class="my-2 d-flex flex-wrap justify-content-between">
                <input type="submit" value="update resume page" class="btn btn-success">
                <a href="/edit/content" class="btn btn-warning">cancel<span class="btn-close ms-2"></span></a>
            </div>
            <!-- update or cancel - end  -->
            <!-- SEO & HTML-TAGS - start  -->
            <hr class="my-3" />
            <div class="my-2 text-center">
                <button class="btn btn-outline-secondary w-100" type="button" data-bs-toggle="collapse"
                    data-bs-target="#collapseConfig" aria-expanded="false" aria-controls="collapseConfig">
                    <h5 class="fw-bold">SEO & HTML-TAGS &#9662;</h5>
                </button>
            </div>
            <div class="row collapse" id="collapseConfig">
                <div class="col-12 col-lg-6">
                    <label class="col-form-label-sm text-primary fw-bold">HTML head first: </label>
                    <textarea name="HTML_head_first" placeholder="HTML_head_first" cols="30" rows="4"
                        class="form-control mb-1"><%= HTML_head_first %></textarea>
                    <label class="col-form-label-sm text-primary fw-bold">HTML head last: </label>
                    <textarea name="HTML_head_last" placeholder="HTML_head_last" cols="30" rows="4"
                        class="form-control mb-1"><%= HTML_head_last %></textarea>
                    <label class="col-form-label-sm text-primary fw-bold">HTML body first: </label>
                    <textarea name="HTML_body_first" placeholder="HTML_body_first" cols="30" rows="4"
                        class="form-control mb-1"><%= HTML_body_first %></textarea>
                    <label class="col-form-label-sm text-primary fw-bold">HTML body last: </label>
                    <textarea name="HTML_body_last" placeholder="HTML_body_last" cols="30" rows="4"
                        class="form-control mb-1"><%= HTML_body_last %></textarea>
                </div>
                <div class="col-12 col-lg-6">
                    <label class="col-form-label-sm text-primary fw-bold">title: </label>
                    <input type="text" name="HTML_head[title]" placeholder="HTML_head[title]"
                        value="<%= HTML_head.title %>" class="form-control mb-1">
                    <label class="col-form-label-sm text-primary fw-bold">description: </label>
                    <input type="text" name="HTML_head[description]" placeholder="HTML_head[description]"
                        value="<%= HTML_head.description %>" class="form-control mb-1">
                    <label class="col-form-label-sm text-primary fw-bold">keywords: </label>
                    <input type="text" name="HTML_head[keywords]" placeholder="HTML_head[keywords]"
                        value="<%= HTML_head.keywords %>" class="form-control mb-1">
                    <label class="col-form-label-sm text-primary fw-bold">them color: </label>
                    <input type="text" name="HTML_head[theme_color]" placeholder="HTML_head[theme_color]"
                        value="<%= HTML_head.theme_color %>" class="form-control mb-1">
                    <label class="col-form-label-sm text-primary fw-bold">favicon address: </label>
                    <input type="text" name="HTML_head[favicon]" placeholder="HTML_head[favicon]"
                        value="<%= HTML_head.favicon %>" class="form-control mb-1">
                    <label class="col-form-label-sm text-primary fw-bold">open graph (op:): </label>
                    <textarea name="HTML_head[open_graph]" placeholder="HTML_head[open_graph]" cols="30" rows="5"
                        class="form-control mb-1"><%= HTML_head.open_graph %></textarea>
                </div>
            </div>
            <!-- SEO & HTML-TAGS - end  -->
            <!-- resume content - start  -->
            <hr class="my-3" />
            <div class="my-2 text-center">
                <button class="btn btn-outline-secondary w-100" type="button" data-bs-toggle="collapse"
                    data-bs-target="#collapseResumeData" aria-expanded="false" aria-controls="collapseResumeData">
                    <h5 class="fw-bold" dir="rtl">&#9662; اطلاعات رزومه</h5>
                </button>
            </div>
            <div class="row collapse" id="collapseResumeData" dir="rtl">
                <div class="col-12 col-lg-6">
                    <div class="text-center w-100" style="height: 100px;">
                        <img src="<%= profile_photo %>" alt="profile_photo" class="h-100" style="clip-path: circle();">
                    </div>
                    <label class="col-form-label-sm text-primary fw-bold">عکس بالای رزومه:
                    </label>
                    <input type="text" name="profile_photo" dir="ltr" placeholder="آدرس عکس را وارد کنید"
                        value="<%= profile_photo %>" class="form-control mb-1">
                    <label class="col-form-label-sm text-primary fw-bold">نام و نام خانوادگی: </label>
                    <input type="text" name="full_name" placeholder="نام کامل" value="<%= full_name %>"
                        class="form-control mb-1">
                    <label class="col-form-label-sm text-primary fw-bold">عموان شغلی: </label>
                    <input type="text" name="job_name" placeholder="مثلا طراح گرافیک..." value="<%= job_name %>"
                        class="form-control mb-1">
                    <label class="col-form-label-sm text-primary fw-bold">تم وبسایت: </label>
                    <select class="form-select" name="theme">
                        <!-- <% themeNameArr.forEach(i=>{ %> -->
                        <option value="<%= i %>" <%=theme==i ? "selected" : "" %>>
                            <%= i %>
                        </option>
                        <!-- <%})%> -->
                    </select>
                    <label class="col-form-label-sm text-primary fw-bold">
                        <div>تنظیمات تم:</div>
                    </label>
                    <div class="form-control" dir="ltr">
                        <!-- <% for(let themeName in theme_config){ %> -->
                        <!-- <% let displayFirstState = themeName === theme ? '': 'd-none' %> -->
                        <div class="<%= displayFirstState %>">
                            <div class="text-danger">
                                <%= themeName %> configs:
                            </div>
                            <!-- <% for(let key in theme_config[themeName]){ %> -->
                            <!-- <% let configs = {} %> -->
                            <!-- <%= key.includes('color') ? configs = {type: 'color' } : key.includes('opacity') ? configs = {type: 'range'} : configs = {type: 'hidden' } %> -->
                            <div class="form-control">
                                <span>
                                    <%= key %>
                                </span>
                                <input type="<%= configs.type %>" name="theme_config[<%= themeName %>][<%= key %>]"
                                    value="<%= theme_config[themeName][key] %>" class="mb-1" step="0.01" max="1"
                                    min="0">
                            </div>
                            <!-- <% } %> -->
                        </div>
                        <!-- <% } %> -->
                    </div>
                    <label class="col-form-label-sm text-primary fw-bold">مهارت ها: </label>
                    <button type="button" class="add-skill btn btn-sm btn-outline-success w-100 fw-bold mb-1">
                        &#10010; اضافه کردن مهارت
                    </button>
                    <div id="skills">
                        <div><input type="hidden" name="skills[0]" value=""></div>
                        <!-- <% if(skills.length) skills.map((s,i)=>{ %> -->
                        <div class="form-control small mb-1 row align-items-center mx-auto">
                            <button type="button" class="remove-skill col-1 btn text-danger fw-bolder">
                                &#x2212;
                            </button>
                            <div class="col-11">
                                <div class="row justify-content-between align-items-center m-1">
                                    <label class="col-form-label-sm text-secondary col-3" style="font-size: 0.8rem;">نام
                                        مهارت:</label>
                                    <div class="col-9 p-0">
                                        <input type="text" name="skills[<%= i + 1 %>][0]" placeholder="مثلا فتوشاپ..."
                                            value="<%= s[0] %>" class="form-control" style="font-size: 0.8rem;">
                                    </div>
                                </div>
                                <div class="row justify-content-between align-items-center m-1">
                                    <label class="col-form-label-sm text-secondary col-3" style="font-size: 0.8rem;">سطح
                                        تسلط:</label>
                                    <div class="wrapper col-9" dir="ltr">
                                        <input type="range" name="skills[<%= i + 1 %>][1]" min="0" max="5"
                                            value="<%= s[1] %>" step="1" />
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- <% }); %> -->
                    </div>
                </div>
                <div class="col-12 col-lg-6">
                    <label class="col-form-label-sm text-primary fw-bold">تاریخ تولد:</label>
                    <input type="text" name="personal[birth_date]" placeholder="۱۳۷۰/۴/۲۲"
                        value="<%= personal.birth_date %>" dir="ltr" class="form-control mb-1">
                    <label class="col-form-label-sm text-primary fw-bold">جنست:</label>
                    <input type="text" name="personal[gender]" placeholder="" value="<%= personal.gender %>"
                        class="form-control mb-1">
                    <label class="col-form-label-sm text-primary fw-bold">وضعیت تاهل:</label>
                    <input type="text" name="personal[marital]" placeholder="" value="<%= personal.marital %>"
                        class="form-control mb-1">
                    <label class="col-form-label-sm text-primary fw-bold">محل سکونت:</label>
                    <input type="text" value="<%= contact.location %>" name="contact[location]" dir="ltr"
                        placeholder="ایران" class="form-control mb-1">
                    <label class="col-form-label-sm text-primary fw-bold">شماره تلفن:</label>
                    <input type="text" value="<%= contact.phone %>" name="contact[phone]" dir="ltr"
                        placeholder="+989380000000" class="form-control mb-1">
                    <label class="col-form-label-sm text-primary fw-bold">ایمیل:</label>
                    <input type="text" value="<%= contact.email %>" name="contact[email]" dir="ltr"
                        placeholder="ex@example.com" class="form-control mb-1">
                    <label class="col-form-label-sm text-primary fw-bold">آدرس وب:</label>
                    <input type="text" value="<%= contact.website %>" name="contact[website]" dir="ltr"
                        placeholder="https://example.com" class="form-control mb-1">
                    <button type="button" class="add-link btn btn-sm btn-outline-success w-100 fw-bold mb-1">
                        &#10010; اضافه کردن لینک
                    </button>
                    <div id="links">
                        <div><input type="hidden" name="contact[other][0]" value=""></div>
                        <!-- <% if(contact && contact.other && contact.other.length) contact.other.map((c,i)=>{ %> -->
                        <div class="form-control small mb-1 row align-items-center mx-auto">
                            <button type="button" class="remove-link col-1 btn text-danger fw-bolder">
                                &#x2212;
                            </button>
                            <div class="col-11">
                                <div class="row justify-content-between align-items-center m-1">
                                    <label class="col-form-label-sm text-secondary col-3" style="font-size: 0.8rem;">نام
                                        لینک:</label>
                                    <div class="col-9 p-0">
                                        <input type="text" name="contact[other][<%= i + 1 %>][0]" value="<%= c[0] %>"
                                            placeholder="مثلا اینستاگرام ..." class="form-control"
                                            style="font-size: 0.8rem;">
                                    </div>
                                </div>
                                <div class="row justify-content-between align-items-center m-1">
                                    <label class="col-form-label-sm text-secondary col-3"
                                        style="font-size: 0.8rem;">لینک:</label>
                                    <div class="col-9 p-0" dir="ltr">
                                        <input type="url" name="contact[other][<%= i + 1 %>][1]" value="<%= c[1] %>"
                                            placeholder="https://instagram.com/..." class="form-control"
                                            style="font-size: 0.8rem;">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- <% }); %> -->
                    </div>
                </div>
            </div>
            <!-- resume content - end  -->

            <!-- file manager - start -->
            <hr class="my-3" />
            <div class="my-2 text-center">
                <h5 class="text-secondary fw-bold" dir="rtl">دریافت آدرس فایل ها از فایل منیجر</h5>
            </div>
            <div>
                <!-- Button trigger modal -->
                <button type="button" id="add-file" class="btn btn-primary" data-bs-toggle="modal"
                    data-bs-target="#add-file-model">
                    Add File
                </button>
                <!-- Modal - start -->
                <div class="modal fade" id="add-file-model" tabindex="-1" aria-labelledby="add-file-modelLabel"
                    aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h1 class="modal-title fs-5" id="add-file-modelLabel">
                                    File Manager
                                </h1>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                                </button>
                            </div>
                            <div class="modal-body" id="file-manager-modal"></div>
                            <div class="modal-footer">
                                <button type="button" data-bs-dismiss="modal" class="btn btn-secondary">Cancel</button>
                                <button type="button" data-bs-dismiss="modal" class="btn btn-info" id="choose-file">
                                    Choose
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Modal - end -->
                <div id="fm-insert-files"></div>
            </div>
            <!-- file manager - end -->
            <!-- HTML_resume editor - start -->
            <hr class="my-3" />
            <div class="my-2 text-center">
                <h5 class="text-secondary fw-bold" dir="rtl">ویرایش محتوا رزومه</h5>
            </div>
            <div>
                <input type="hidden" name="HTML_resume" value="<%= HTML_resume %>">
                <div class="w-50 my-2">
                    <label class="form-label d-inline">language text editor:</label>
                    <select name="lang" class="form-select d-inline w-50">
                        <option selected value="en">en</option>
                        <option value="fa">fa</option>
                    </select>
                </div>
                <main>
                    <div class="row row-editor">
                        <div class="editor-container">
                            <div class="editor"></div>
                        </div>
                    </div>
                </main>
            </div>
            <!-- HTML_resume editor - end -->
        </form>

        <!-- scripts- start -->
        <script src="/APP/contentEditor/ckeditor.min.js"></script>
        <script src="/APP/contentEditor/editor.js"></script>
        <script src="/APP/bootstrap@5.3.0/bootstrap.bundle.min.js"></script>
        <script src="/APP/script.js"></script>
        <!-- scripts- end -->

</body>

</html>